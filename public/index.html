<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Anno Chat</title>
  <link rel="stylesheet" href="styles.css">
  <link href="https://fonts.googleapis.com/css2?family=DynaPuff&display=swap" rel="stylesheet">
  <meta name="juicyads-site-verification" content="2d4046fd5834a71008e46c0b2e845520">

<meta property="og:type" content="website" />
<meta property="og:url" content="https://www.rando-roulette.com/" />
<meta property="og:title" content="Rando Roulette" />
<meta property="og:description" content="Anonymous chat room for meeting new people" />
<meta property="og:image" content="https://www.rando-roulette.com/images/social-preview.png" />


  <meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="Rando Roulette" />
<meta name="twitter:description" content="Anonymous chat room for meeting new people" />
<meta name="twitter:image" content="https://www.rando-roulette.com/images/social-preview.png" />


<meta http-equiv="Delegate-CH" content="Sec-CH-UA https://s.pemsrv.com; Sec-CH-UA-Mobile https://s.pemsrv.com; Sec-CH-UA-Arch https://s.pemsrv.com; Sec-CH-UA-Model https://s.pemsrv.com; Sec-CH-UA-Platform https://s.pemsrv.com; Sec-CH-UA-Platform-Version https://s.pemsrv.com; Sec-CH-UA-Bitness https://s.pemsrv.com; Sec-CH-UA-Full-Version-List https://s.pemsrv.com; Sec-CH-UA-Full-Version https://s.pemsrv.com;">

</head>
<body>

  <script type="application/javascript">
    var ad_idzone = "5725166",
    ad_popup_fallback = false,
    ad_popup_force = false,
    ad_chrome_enabled = true,
    ad_new_tab = false,
    ad_frequency_period = 10,
    ad_frequency_count = 1,
    ad_trigger_method = 3,
    ad_trigger_delay = 0,
    ad_capping_enabled = true; 
</script>
<script type="application/javascript" src="https://a.pemsrv.com/popunder1000.js"></script>


  <div id="app" data-view="public">

    <div id="public-chat-page" class="chat-page">
      <header class="topbar" role="banner">
        <div class="topbar-left">
          <button id="nav-toggle-btn" class="icon-btn" aria-label="Open Feed" title="Feed">ğŸ“·</button>
        </div>
        <div class="topbar-center">
          <div class="title">Rando Roulette</div>
          <div class="subtitle">Anonymous encrypted chat</div>
        </div>
        <div class="topbar-right">
          <button class="icon-btn dm-open-btn" aria-label="DMs" title="Direct messages">ğŸ’¬</button>
        </div>
      </header>
      <main class="chat-container" role="main">
        <ul id="public-chat-list" role="log" aria-live="polite"></ul>
      </main>
      <form id="public-composer" class="composer-form" autocomplete="off" aria-label="Message composer">
        <button type="button" class="icon-btn attach" aria-label="Attach" title="Attach">ğŸ“</button>
        <textarea class="msg-input" maxlength="500" placeholder="Type a message"></textarea>
        <button class="send-btn" type="submit" disabled aria-label="Send message">Send</button>
      </form>
    </div>

    <div id="dm-chat-page" class="chat-page">
      <header class="topbar" role="banner">
        <div class="topbar-left">
          <button id="dm-back-btn" class="icon-btn" aria-label="Back to public chat" title="Back">â¬…ï¸</button>
        </div>
        <div class="topbar-center">
          <div id="dm-chat-title" class="title">Direct Message</div>
          <div id="dm-chat-subtitle" class="subtitle"></div>
        </div>
        <div class="topbar-right"></div>
      </header>
      <main class="chat-container" role="main">
        <ul id="dm-chat-list" role="log" aria-live="polite"></ul>
      </main>
      <form id="dm-composer" class="composer-form" autocomplete="off" aria-label="DM composer">
        <button type="button" class="icon-btn attach" aria-label="Attach" title="Attach">ğŸ“</button>
        <textarea class="msg-input" maxlength="500" placeholder="Send a private message"></textarea>
        <button class="send-btn" type="submit" disabled aria-label="Send message">Send</button>
      </form>
    </div>


        <!-- FEED PAGE -->
        <div id="feed-page" class="feed-page chat-page" style="display:none;">
          <header class="topbar" role="banner">
            <div class="topbar-left">
              <!-- toggle button: returns to chat when in feed -->
              <button id="nav-toggle-btn-feed" class="icon-btn" aria-label="Back to Chat" title="Chat">ğŸ’¬</button>
            </div>
            <div class="topbar-center">
              <div class="title">Rando Feed</div>
              <div class="subtitle">Latest shared images & videos</div>
            </div>
            <div class="topbar-right">
              <!-- <button class="icon-btn dm-open-btn" aria-label="DMs" title="Direct messages">ğŸ’¬</button> -->
            </div>
          </header>
    
          <main id="feed-main" class="chat-container" role="main">
            <ul id="feed-list" role="list" aria-live="polite"></ul>
          </main>
    
          <!-- Feed composer: reuses same .composer-form logic -->
          <form id="feed-composer" class="composer-form" autocomplete="off" aria-label="Feed composer">
            <button type="button" class="icon-btn attach" aria-label="Attach" title="Attach">ğŸ“</button>
            <textarea class="msg-input" maxlength="500" placeholder="Post to the public feed"></textarea>
            <button class="send-btn" type="submit" disabled aria-label="Post to feed">Post</button>
          </form>
        </div>
    
    
    <input type="file" id="fileInput" accept="image/*" style="display:none" />

    <div id="dm-panel" class="dm-panel" aria-hidden="true">
      <div class="dm-panel-header">
        <strong>Direct Messages</strong>
        <button id="dm-close" class="icon-btn" aria-label="Close DMs">âœ•</button>
      </div>
      <div class="dm-panel-section">
        <h4>My Threads</h4>
        <div id="dm-threads" class="dm-threads"></div>
      </div>
    </div>
  </div>

  <script src="client.js"></script>

  <script>
    (function () {
      function setAdHeight() {
        const desktop = document.querySelector('.leaderboard-ad-container');
        const mobile = document.querySelector('.mobile-ad');
        // pick the one thatâ€™s actually displayed
        const active = (mobile && getComputedStyle(mobile).display !== 'none') ? mobile : desktop;
        if (!active) return;
    
        // measure height but only apply if > 0
        const h = Math.ceil(active.getBoundingClientRect().height || 0);
        if (h > 0) {
          document.documentElement.style.setProperty('--ad-height', h + 'px');
          document.documentElement.style.setProperty('--mobile-ad-height', h + 'px');
        }
        // never overwrite with 0 â€” keeps fallback
      }
    
      function setTopbarHeight() {
        const tb = document.querySelector('.topbar');
        if (!tb) return;
        const th = Math.ceil(tb.getBoundingClientRect().height || 0);
        if (th > 0) {
          document.documentElement.style.setProperty('--topbar-height', th + 'px');
        }
      }
    
      function measureAll() {
        setAdHeight();
        setTopbarHeight();
      }
    
      window.addEventListener('load', measureAll);
      window.addEventListener('resize', measureAll);
      // remeasure after ads load
      setTimeout(measureAll, 500);
      setTimeout(measureAll, 1500);
    })();
    </script>
    


</body>
</html>
